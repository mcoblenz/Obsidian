// This test focuses on ownership of non-resource objects.

contract Prescription {

}

// Very simple pharmacy — only holds one prescription.
main contract Pharmacy {
    Prescription@Owned prescription;

    transaction depositPrescription(Prescription@Owned p) {
        prescription <- p;
    }

    transaction stealPrescription(Prescription@Unowned p) {
        // Error: can't get ownership from non-owning reference.
        prescription <- p;
    }

    transaction dropPrescription(Prescription@Owned p) {
        // OK, since Prescription is not a resource.
    }
}